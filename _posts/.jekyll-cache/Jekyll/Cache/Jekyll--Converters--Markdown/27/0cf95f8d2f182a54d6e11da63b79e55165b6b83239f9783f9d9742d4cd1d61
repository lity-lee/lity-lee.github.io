I"î"<h3 id="dwz-æ˜¯ä»€ä¹ˆ">DWZ æ˜¯ä»€ä¹ˆ</h3>

<p>DWZå¯Œå®¢æˆ·ç«¯æ¡†æ¶(jQuery RIA framework)ï¼Œæ˜¯ä¸­å›½äººè‡ªå·±å¼€å‘çš„åŸºäºjQueryå®ç°çš„Ajax RIAå¼€æºæ¡†æ¶ã€‚ DWZå¯Œå®¢æˆ·ç«¯æ¡†æ¶è®¾è®¡ç›®æ ‡æ˜¯ç®€å•å®ç”¨ã€æ‰©å±•æ–¹ä¾¿ã€å¿«é€Ÿå¼€å‘ã€RIAæ€è·¯ã€è½»é‡çº§ã€‚</p>

<!-- more -->

<p>DWZæ¡†æ¶æ”¯æŒç”¨HTMLæ‰©å±•çš„æ–¹å¼æ¥ä»£æ›¿JavaScriptä»£ç ï¼Œåªè¦æ‡‚HTMLè¯­æ³•ï¼Œå†å‚è€ƒDWZä½¿ç”¨æ‰‹å†Œå°±å¯ä»¥åšAjaxå¼€å‘ã€‚å¼€å‘äººå‘˜ä¸å†™JavaScriptçš„æƒ…å†µä¸‹ï¼Œä¹Ÿèƒ½ç”¨Ajaxåšé¡¹ç›®å’Œä½¿ç”¨å„ç§UIç»„ä»¶ã€‚ åŸºæœ¬å¯ä»¥ä¿è¯ç¨‹åºå‘˜ä¸æ‡‚JavaScriptï¼Œ ä¹Ÿèƒ½ä½¿ç”¨å„ç§é¡µé¢ç»„ä»¶å’ŒAjaxæŠ€æœ¯ã€‚ å¦‚æœæœ‰ç‰¹å®šéœ€æ±‚ä¹Ÿå¯ä»¥æ‰©å±•DWZåšå®šåˆ¶åŒ–å¼€å‘ã€‚</p>

<p>åšAjaxé¡¹ç›®æ—¶éœ€è¦å†™å¤§é‡çš„JavaScriptæ‰èƒ½è¾¾åˆ°æ»¡æ„çš„æ•ˆæœï¼Œå›½å†…å¾ˆå¤šç¨‹åºå‘˜javascriptä¸ç†Ÿï¼Œ å¤§å¤§å½±å“äº†å¼€å‘é€Ÿåº¦ã€‚ä½¿ç”¨DWZæ¡†æ¶è‡ªåŠ¨ç»‘å®šJavaScriptæ•ˆæœï¼Œ ä¸éœ€è¦å¼€å‘äººå‘˜å»å…³å¿ƒJavaScriptæ€ä¹ˆå†™ï¼Œåªè¦å†™æ ‡å‡†HTMLå°±å¯ä»¥äº†ã€‚DWZç®€å•æ‰©å±•äº†HTMLæ ‡å‡†ï¼Œç»™HTMLå®šä¹‰äº†ä¸€äº›ç‰¹åˆ«çš„classå’Œattributeã€‚DWZæ¡†æ¶ä¼šæ‰¾åˆ°å½“å‰è¯·æ±‚ç»“æœä¸­çš„é‚£äº›ç‰¹åˆ«çš„classå’Œattribute, å¹¶è‡ªåŠ¨å…³è”ä¸Šç›¸åº”çš„jså¤„ç†äº‹ä»¶å’Œæ•ˆæœã€‚</p>

<p>DWZåŸºäºjQueryï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿çš„å®šåˆ¶ç‰¹å®šéœ€æ±‚çš„UIç»„ä»¶ï¼Œå¹¶ä»¥jQueryæ’ä»¶çš„å½¢å¼å‘å¸ƒå‡ºæ¥ï¼Œå¦‚æœ‰éœ€è¦ä¹Ÿå¯åšå®šåˆ¶åŒ–å¼€å‘ã€‚</p>

<p><a href="http://jui.org/"><strong><em>å®˜æ–¹ç½‘ç«™</em></strong></a></p>

<p>æˆ‘æ€»ç»“çš„ï¼š<font color="red">ä¸€ä¸ªJavaScriptæ¡†æ¶ï¼Œä¸åƒä¸€ä¸ªç±»åº“ï¼Œä¸æ˜¯ç”¨äºæ‰©å±•javascriptçš„åŠŸèƒ½(å¦‚jQuery)ï¼Œ è€Œåƒæ‰©å±•HTMLåŠŸèƒ½çš„ã€‚</font></p>

<h3 id="dwz-ç‰¹ç‚¹ä¸ä¼˜ç‚¹">DWZ ç‰¹ç‚¹ä¸ä¼˜ç‚¹</h3>

<p>ç¬¬ä¸€æ¬¡æ‰“å¼€é¡µé¢æ—¶è½½å…¥ç•Œé¢åˆ°å®¢æˆ·ç«¯, ä¹‹åå’ŒæœåŠ¡å™¨çš„äº¤äº’åªæ˜¯æ•°æ®äº¤äº’, ä¸å ç”¨ç•Œé¢ç›¸å…³çš„ç½‘ç»œæµé‡.</p>

<p><a href="http://www.5admo.cn"><strong><em>ç‰¹ç‚¹æ¼”ç¤º</em></strong></a></p>

<p>æ”¯æŒHTMLæ‰©å±•æ–¹å¼æ¥è°ƒç”¨DWZç»„ä»¶. 
æ ‡å‡†åŒ–Ajaxå¼€å‘, é™ä½Ajaxå¼€å‘æˆæœ¬.</p>

<ul>
  <li>å®Œå…¨å¼€æºï¼Œæºç æ²¡æœ‰åšä»»ä½•æ··æ·†å¤„ç†ï¼Œæ–¹ä¾¿æ‰©å±•ã€‚</li>
  <li>CSSå’ŒJSä»£ç å½»åº•åˆ†ç¦»ï¼Œä¿®æ”¹æ ·å¼æ–¹ä¾¿ã€‚</li>
  <li>ç®€å•å®ç”¨ï¼Œæ‰©å±•æ–¹ä¾¿ï¼Œè½»é‡çº§æ¡†æ¶ï¼Œå¿«é€Ÿå¼€å‘ã€‚</li>
  <li>ä»ç„¶ä¿ç•™äº†HTMLçš„é¡µé¢å¸ƒå±€æ–¹å¼ã€‚</li>
  <li>æ”¯æŒHTMLæ‰©å±•æ–¹å¼è°ƒç”¨UIç»„ä»¶ï¼Œå¼€å‘äººå‘˜ä¸éœ€å†™JSã€‚</li>
  <li>åªè¦æ‡‚HTMLè¯­æ³•ä¸éœ€ç²¾é€šJSï¼Œå°±å¯ä»¥ä½¿ç”¨Ajaxå¼€å‘åå°ã€‚</li>
  <li>åŸºäºjQueryï¼ŒUIç»„ä»¶ä»¥jQueryæ’ä»¶çš„å½¢å¼å‘å¸ƒï¼Œæ‰©å±•æ–¹ä¾¿ã€‚</li>
</ul>

<h3 id="æ‰©å±•çš„htmlæ ‡ç­¾">æ‰©å±•çš„â€HTMLæ ‡ç­¾â€</h3>

<p><a href="https://gitee.com/dwzteam/dwz_jui/raw/master/doc/dwz-user-guide.pdf"><strong><em>ä½¿ç”¨æ‰‹å†Œ</em></strong></a></p>

<h3 id="æ‰©å±•çš„æ ‡ç­¾æ˜¯å¦‚ä½•å®ç°çš„">æ‰©å±•çš„æ ‡ç­¾æ˜¯å¦‚ä½•å®ç°çš„</h3>

<p>DWZçš„åˆå§‹åŒ–</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>DWZ.init("dwz.frag.xml", {})
initEnv() [async call]
{
	initLayout()
	initUI()
} [timer call] (æˆ‘ä¸å–œæ¬¢å®šæ—¶å™¨)
</code></pre></div></div>

<p><a href="http://www.5admo.cn/public/dwz/js/dwz.core.js"><strong><em>æºä»£ç å‚è€ƒ</em></strong></a></p>

<p>initUIåˆ†æ(æ‰©å±•æ ‡ç­¾çš„å®ç°)åŠå…¶å®Œæˆçš„ä¸»è¦ä»»åŠ¡</p>

<ol>
  <li>å¤„ç†å„ç§æ§ä»¶ï¼ŒåŒ…æ‹¬ tabs, jTree, checkbox, xheditor, uploadifyç­‰ã€‚</li>
  <li>å¢åŠ æ§ä»¶æ•°æ®</li>
  <li>ç»‘å®šæ§ä»¶é£æ ¼, ä¸cssè¿æ¥</li>
  <li>æ·»åŠ æ§ä»¶äº‹ä»¶å¤„ç†å‡½æ•°</li>
  <li>è°ƒç”¨æ§ä»¶çš„åˆåŒ–å‡½æ•°</li>
</ol>

<p>ä¸‹é¢æ‘˜å‡ºç»‘å®šæ§ä»¶é£æ ¼éƒ¨åˆ†</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	// init styles
	$("input[type=text], input[type=password], textarea", $p).addClass("textInput").focusClass("focus");

	$("input[readonly], textarea[readonly]", $p).addClass("readonly");
	$("input[disabled=true], textarea[disabled=true]", $p).addClass("disabled");

	$("input[type=text]", $p).not("div.tabs input[type=text]", $p).filter("[alt]").inputAlert();

	//Grid ToolBar
	$("div.panelBar li, div.panelBar", $p).hoverClass("hover");

	//Button
	$("div.button", $p).hoverClass("buttonHover");
	$("div.buttonActive", $p).hoverClass("buttonActiveHover");
	
	//tabsPageHeader
	$("div.tabsHeader li, div.tabsPageHeader li, div.accordionHeader, div.accordion", $p).hoverClass("hover");
</code></pre></div></div>

<p><a href="http://www.5admo.cn/public/dwz/js/dwz.ui.js"><strong><em>æºä»£ç å‚è€ƒ</em></strong></a></p>

<h3 id="dwzfragxml-é…ç½®æ–‡ä»¶">dwz.frag.xml é…ç½®æ–‡ä»¶</h3>

<p>ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°DWZ.initåˆ°initEnvæ˜¯å¼‚æ­¥è°ƒç”¨ï¼ŒåŸå› æ—¶éœ€è¦å‘æœåŠ¡å™¨è¯·æ±‚dwz.frag.xmlæ–‡ä»¶ï¼Œ æ­¤æ–‡ä»¶çš„å†…å®¹ä¸»è¦æ˜¯å…¬å…±éƒ¨åˆ†çš„htmlä»£ç , æ¯”å¦‚dialog, loading, pagintionç­‰ã€‚</p>

<p><a href="http://www.5admo.cn/dwz.frag.xml"><strong><em>dwz.frag.xml</em></strong></a></p>

<h3 id="è¡¨å•çš„éªŒè¯ä¸æäº¤ä»¥å¢åŠ è§’è‰²ä¸ºä¾‹æ¼”ç¤º">è¡¨å•çš„éªŒè¯ä¸æäº¤ï¼ˆä»¥å¢åŠ è§’è‰²ä¸ºä¾‹æ¼”ç¤ºï¼‰</h3>

<p><a href="http://www.5admo.cn"><strong><em>æ•ˆæœæ¼”ç¤º</em></strong></a></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
&lt;div class="pageContent"&gt;
	&lt;form method="post" action="&lt;?php echo Yii::app()-&gt;createUrl("admin/role/Add", array('navTabId'=&gt;Yii::app()-&gt;request-&gt;getQuery('navTabId')))?&gt;" class="pageForm required-validate" onsubmit="return validateCallback(this, dialogAjaxDone)"&gt;
		&lt;div class="pageFormContent" layoutH="56"&gt;
			&lt;p&gt;
				&lt;label&gt;è§’è‰²åï¼š&lt;/label&gt;
                                &lt;input name="role[role_name]" type="text" class="required" size="30" value="" title="å¿…é¡»å¡«å†™è§’è‰²å"/&gt;
			&lt;/p&gt;
			&lt;p&gt;
				&lt;label&gt;æè¿°ï¼š&lt;/label&gt;
				&lt;input name="role[role_desc]" type="text" size="30" value="" alt=""/&gt;
			&lt;/p&gt;
		&lt;/div&gt;
		&lt;div class="formBar"&gt;
			&lt;ul&gt;
				&lt;li&gt;&lt;div class="buttonActive"&gt;&lt;div class="buttonContent"&gt;&lt;button type="submit"&gt;ä¿å­˜&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
				&lt;li&gt;
					&lt;div class="button"&gt;&lt;div class="buttonContent"&gt;&lt;button type="button" class="close"&gt;å–æ¶ˆ&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;
				&lt;/li&gt;
			&lt;/ul&gt;
		&lt;/div&gt;
	&lt;/form&gt;
&lt;/div&gt;

</code></pre></div></div>

<p>è¯´æ˜ï¼š</p>
<ol>
  <li>form å¢åŠ  class=â€pageForm required-validateâ€ onsubmit=â€return validateCallback(this, dialogAjaxDone)â€</li>
  <li>å¿…å¡«çš„æ–‡æœ¬è¾“å…¥æ¡†å¢åŠ  class=â€requiredâ€ title=â€é”™è¯¯æç¤ºâ€ å³å¯ã€‚</li>
  <li>validateCallbackæ˜¯å®ç°å¯¹è®¾å®šè§„åˆ™çš„éªŒè¯ï¼ŒéªŒè¯å¤±è´¥ä¸æäº¤è¡¨å•ã€‚</li>
  <li>dialogAjaxDone æ˜¯è¡¨å•æäº¤åå“åº”å™¨å“åº”å¤„ç†å‡½æ•°ã€‚</li>
  <li>ä¸€èˆ¬ onsubmitçš„æ˜¯å›ºå®šçš„ï¼Œé™¤édwzå®ç°çš„è§„åˆ™æ— æ³•æ»¡è¶³æ‚¨çš„ä¸šåŠ¡éªŒè¯ã€‚</li>
</ol>

<p>æºä»£ç å‚è€ƒï¼š</p>

<p><a href="http://www.5admo.cn/public/dwz/js/dwz.ajax.js"><strong><em>validateCallback</em></strong></a></p>

<p><a href="http://www.5admo.cn/public/jquery/jquery.validate.js"><strong><em>form.valid</em></strong></a></p>

<p><a href="http://www.5admo.cn/public/dwz/js/dwz.ajax.js"><strong><em>dialogAjaxDone</em></strong></a></p>

<h3 id="aæ ‡ç­¾ajaxtodoæ‰©å±•åˆ é™¤è§’è‰²ä¸ºä¾‹">aæ ‡ç­¾ajaxTodoæ‰©å±•(åˆ é™¤è§’è‰²ä¸ºä¾‹)</h3>

<p><a href="http://www.5admo.cn"><strong><em>æ•ˆæœæ¼”ç¤º</em></strong></a></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;a href="&lt;?php echo Yii::app()-&gt;createUrl("admin/role/delete", array('roleid'=&gt;$role-&gt;role_id))?&gt;" target="ajaxTodo" title="ç¡®å®šè¦åˆ é™¤è§’è‰²å—?"&gt;åˆ é™¤è§’è‰²&lt;/a&gt;
</code></pre></div></div>

<p>è¯´æ˜ï¼š</p>
<ol>
  <li>ajaxTodoæ‰©å±•å°†å¼¹å‡ºä¸€ä¸ªé€‰æ‹©æ¡†ï¼Œç”¨æˆ·é€‰æ‹©â€œæ˜¯â€åè¿›è¡Œæ“ä½œã€‚</li>
  <li>aæ ‡ç­¾å¢åŠ  target=â€ajaxTodoâ€ title=â€å¯¹è¯æ¡†æç¤ºå†…å®¹â€</li>
</ol>

<p><a href="http://www.5admo.cn/public/dwz/js/dwz.ajax.js"><strong><em>æºä»£ç å‚è€ƒ</em></strong></a></p>

<h3 id="layouth-å®¹å™¨é«˜åº¦è‡ªé€‚åº”">layoutH, å®¹å™¨é«˜åº¦è‡ªé€‚åº”</h3>

<p><a href="http://www.5admo.cn"><strong><em>æ•ˆæœæ¼”ç¤º</em></strong></a></p>

<p>å®¹å™¨é«˜åº¦è‡ªé€‚åº”, åªè¦å¢åŠ æ‰©å±•å±æ€§layoutH=â€xxâ€, å•ä½æ˜¯åƒç´ .
LayoutHè¡¨ç¤ºå®¹å™¨å†…å·¥å…·æ é«˜åº¦.  æµè§ˆå™¨çª—å£å¤§å°æ”¹å˜æ—¶å®¹å™¨é«˜åº¦è‡ªé€‚åº”, ä½†å®¹å™¨å†…å·¥å…·æ é«˜åº¦æ˜¯å›ºå®šçš„, éœ€è¦å‘Šè¯‰jså·¥å…·æ é«˜åº¦æ¥è®¡ç®—å‡ºå†…å®¹çš„é«˜åº¦.</p>

<p>ç¤ºä¾‹:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;div class=â€layoutBoxâ€&gt;
	&lt;div layoutH=â€œ150â€&gt;å†…å®¹&lt;/div&gt;
&lt;/div&gt;
</code></pre></div></div>
<p>æ³¨æ„ï¼š layoutH=â€œ150â€çš„é«˜åº¦æ˜¯æ ¹æ®å«æœ‰class=â€layoutBoxâ€çš„çˆ¶å®¹å™¨divåŠ¨æ€æ›´æ–°çš„</p>

<p>æºä»£ç å‚è€ƒï¼š</p>

<p><a href="http://www.5admo.cn/public/dwz/js/dwz.ui.js"><strong><em>initLayout</em></strong></a></p>

<p><a href="http://www.5admo.cn/public/dwz/js/dwz.core.js"><strong><em>layoutH</em></strong></a></p>

:ET