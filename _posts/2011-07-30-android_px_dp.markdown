---
layout: post
category: android
title: 'android 布局参数px与dp浅析'
tags: [android,布局,编程]
---

### android 布局参数px与dp浅析

首先两者都是表示长度的，和cm,in(英寸)都是一样的，只不过px值不是物理的，它会随着分辨率的不同而值有所改变。要更好理解和区别它们之前不得不说屏幕密度的概念和它们的定义。

1. 屏幕密度density表示每英寸有多少个显示点，单位（个/in)。
1. 像素，就是一个显示点，更确切来是一个显示点的宽度（要不然100px怎么会能表示大少呢）值：1px = 1 / density (in)。
1. dp,设备独立像素,与设备无关，值不会发生变化，与cm，in类似，值：1dp = 1 / 160 (in)。

从dp的值上看，它是不随着手机设备的屏幕密度（这里说的是手机，而不是模拟器）不同而改变的，也是android平台推荐使用的长度单位（猜测推荐的原因，android手机大都是触屏的，用手指来操作，而人的手指没有太大的差别），所以在编写xml布局文件时，最好使用dp,这样能解决大部分问题。

由dp设定的大小，比如100dp在不同的手机设备上是相同的，那为什么在模拟器上是不同的呢？模拟器是显示在电脑屏幕上的，显示在电脑屏的大小（我们看到的）是由像素的多少来决的（100 \* 100px）。
　　100dp = 100 \* 1 / 160 = 100 \* density / (160 \* density) = (100 / 160) \* desity (px)
可知模拟器上dp与density成正比，所以100dp在HVGA(density = 160）模拟器上要比在QVGA(density = 120)要大, 而不是相等。

QVGA(density = 120, 240 * 320), HVGA(density = 160, 320 * 480), VGA(density = 240, 480 * 640), 在不同的分辨率下计算屏幕的宽度。

```
        QVGA：240px = 240 * 160 / 120 dp = 320dp
        HVGA：320px = 320 * 160 / 160 dp = 320dp
        VGA：  480px = 480 * 160 / 240 dp = 320dp
```

所以，在这三种分辨率下320dp都代表着屏幕的宽度。

最后说一下，布局文件一般都是以HVGA为标准进行前期测试的，而HVGA(density)模拟器上1px = 1dp，所以用到图片的地方直接使用图片大小作为dp值就行，不需考虑图片会变形。
